<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Abhishek Singh - Portfolio Tree</title>
<style>
  body {
    margin: 0; font-family: sans-serif;
    background: #f7f7f7; color: #333;
  }
  header {
    text-align: center; padding: 1rem;
    border-bottom: 1px dashed #ccc; background: #fff;
    position: sticky; top: 0; z-index: 10;
  }
  main {
    display: flex; justify-content: center; align-items: center;
    padding: 1rem; height: calc(100vh - 70px);
  }
  svg { width: 100%; height: 100%; }
  .link {
    fill: none; stroke: #bbb; stroke-width: 1.5px; stroke-dasharray: 3 3;
  }
  .node circle {
    fill: #fff; stroke: #333; stroke-width: 1.5px;
  }
  .node text {
    font-size: 13px; user-select: none;
  }
  /* Root node styling */
  .root-label {
    font-size: 14px; font-weight: bold; fill: #0077ff;
  }
  @media (max-width: 768px) {
    .node text { font-size: 12px; }
  }
</style>
</head>
<body>
  <header>
    <h1>Portfolio Tree</h1>
  </header>

  <main>
    <svg id="tree"></svg>
  </main>

<script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
<script>
const data = {
  name: "Abhishek Singh",
  photo: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200&q=80",
  children: [
    { name: "About", children: [
      { name: "Bio" },
      { name: "Resume" }
    ]},
    { name: "Projects", children: [
      { name: "Featured", children: [
        { name: "Project A" },
        { name: "Project B" }
      ]},
      { name: "All Projects" }
    ]},
    { name: "Skills" },
    { name: "Contact" }
  ]
};

const svg = d3.select("#tree"),
      g = svg.append("g").attr("transform", "translate(40,40)");

let width = svg.node().clientWidth,
    height = svg.node().clientHeight;

const treeLayout = d3.tree().size([width - 100, height - 120]);
const root = d3.hierarchy(data);
treeLayout(root);

// Draw links
g.selectAll(".link")
  .data(root.links())
  .join("path")
  .attr("class", "link")
  .attr("d", d3.linkVertical()
    .x(d => d.x)
    .y(d => d.y)
  );

// Draw nodes
const node = g.selectAll(".node")
  .data(root.descendants())
  .join("g")
  .attr("class", d => "node" + (d.depth === 0 ? " root-node" : ""))
  .attr("transform", d => `translate(${d.x},${d.y})`);

// Normal circles for children
node.filter(d => d.depth !== 0)
  .append("circle")
  .attr("r", 18);

// Profile image for root
node.filter(d => d.depth === 0)
  .append("image")
  .attr("xlink:href", d => d.data.photo)
  .attr("x", -25).attr("y", -25)
  .attr("width", 50).attr("height", 50)
  .style("clip-path", "circle(25px at center)");

// Labels
node.append("text")
  .attr("dy", d => d.depth === 0 ? 40 : -24)
  .attr("text-anchor", "middle")
  .attr("class", d => d.depth === 0 ? "root-label" : "")
  .text(d => d.data.name);

// Make it responsive
function resize() {
  width = svg.node().clientWidth;
  height = svg.node().clientHeight;
  treeLayout.size([width - 100, height - 120]);
  treeLayout(root);

  g.selectAll(".link")
    .data(root.links())
    .attr("d", d3.linkVertical().x(d => d.x).y(d => d.y));

  g.selectAll(".node")
    .attr("transform", d => `translate(${d.x},${d.y})`);
}
window.addEventListener("resize", resize);
</script>
</body>
</html>